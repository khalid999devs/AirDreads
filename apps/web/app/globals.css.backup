@import 'tailwindcss';

/* AirDreads — base-first tokens with on* convention (DARK default) */
@theme {
  /* ───── BASE HEX PALETTE ───── */
  --color-background: #150800; /* BASE */
  --color-surface: #1f0e03; /* BASE */
  --color-on-surface: #ffffff; /* BASE */

  --color-primary: #ffa665; /* BASE */
  --color-on-primary: #150800; /* BASE */

  --color-secondary: #ffd77b; /* BASE */
  --color-on-secondary: #150800; /* BASE */

  --color-success: #8cff6f; /* BASE */
  --color-on-success: #150800; /* BASE */

  --color-error: #ff6f6f; /* BASE */
  --color-on-error: #150800; /* BASE */

  /* Minimal system tokens (for Tailwind utilities) */
  --color-border: color-mix(
    in oklab,
    var(--color-on-surface),
    transparent 92%
  ); /* DERIVED */
  --color-input: var(--color-border); /* DERIVED */
  --color-ring: var(--color-primary); /* DERIVED */

  /* Tailwind v4 “defaults” — will mirror runtime vars below */
  --color-background: var(--background); /* DERIVED alias */
  --color-foreground: var(--on-surface); /* DERIVED alias */
  --color-card: var(--surface); /* DERIVED alias */
  --color-card-foreground: var(--on-surface); /* DERIVED alias */
  --color-popover: var(--surface); /* DERIVED alias */
  --color-popover-foreground: var(--on-surface); /* DERIVED alias */
  --color-primary: var(--primary); /* DERIVED alias */
  --color-primary-foreground: var(--on-primary); /* DERIVED alias */
  --color-secondary: var(--secondary); /* DERIVED alias */
  --color-secondary-foreground: var(--on-secondary); /* DERIVED alias */
  --color-success: var(--success); /* DERIVED alias */
  --color-success-foreground: var(--on-success); /* DERIVED alias */
  --color-destructive: var(--destructive); /* DERIVED alias */
  --color-destructive-foreground: var(--on-error); /* DERIVED alias */
  --color-muted: var(--surface); /* DERIVED alias */
  --color-muted-foreground: color-mix(
    in oklab,
    var(--on-surface),
    transparent 40%
  ); /* DERIVED */
  --color-border: var(--border); /* DERIVED alias */
  --color-input: var(--input); /* DERIVED alias */
  --color-ring: var(--ring); /* DERIVED alias */
}

/* ───── DARK THEME (DEFAULT): map BASE → runtime (on* names) ───── */
:root {
  --radius: 10px; /* DERIVED */

  /* Surfaces & text */
  --background: var(--color-background); /* BASE→RUNTIME */
  --surface: var(--color-surface); /* BASE→RUNTIME */
  --on-surface: var(--color-on-surface); /* BASE→RUNTIME */

  /* Brand */
  --primary: var(--color-primary); /* BASE→RUNTIME */
  --on-primary: var(--color-on-primary); /* BASE→RUNTIME */

  /* Secondary */
  --secondary: var(--color-secondary); /* BASE→RUNTIME */
  --on-secondary: var(--color-on-secondary); /* BASE→RUNTIME */

  /* Status */
  --success: var(--color-success); /* BASE→RUNTIME */
  --on-success: var(--color-on-success); /* BASE→RUNTIME */
  --destructive: var(--color-error); /* BASE→RUNTIME */
  --on-error: var(--color-on-error); /* BASE→RUNTIME */

  /* System */
  --border: var(--color-border); /* DERIVED */
  --input: var(--color-input); /* DERIVED */
  --ring: var(--color-ring); /* DERIVED */

  /* Sync Tailwind v4 defaults with runtime */
  --color-background: var(--background);
  --color-foreground: var(--on-surface);
  --color-card: var(--surface);
  --color-card-foreground: var(--on-surface);
  --color-popover: var(--surface);
  --color-popover-foreground: var(--on-surface);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--on-primary);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--on-secondary);
  --color-success: var(--success);
  --color-success-foreground: var(--on-success);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--on-error);
  --color-muted: var(--surface);
  --color-muted-foreground: color-mix(
    in oklab,
    var(--on-surface),
    transparent 40%
  );
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
}

/* Optional LIGHT theme if ever needed */
html[data-theme='light'] {
  --background: #fffdf9; /* DERIVED */
  --surface: #fff7ec; /* DERIVED */
  --on-surface: #1b140e; /* DERIVED */

  --primary: var(--color-primary); /* BASE */
  --on-primary: var(--color-on-primary); /* BASE */
  --secondary: #ffe6a8; /* DERIVED from BASE */
  --on-secondary: #2b1a0d; /* DERIVED */

  --success: var(--color-success); /* BASE */
  --on-success: var(--color-on-success); /* BASE */
  --destructive: var(--color-error); /* BASE */
  --on-error: var(--color-on-error); /* BASE */

  --border: #e7dccf; /* DERIVED */
  --input: #e7dccf; /* DERIVED */
  --ring: var(--color-primary); /* BASE */
}

/* Base wiring */
html,
body {
  height: 100%;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
body {
  background: var(--background);
  color: var(--on-surface);
}
